(function(){"use strict";var e={3111:function(e,t,n){var r=n(5130),o=n(6768);const a={id:"app"};function s(e,t,n,r,s,i){const u=(0,o.g2)("HW");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(u)])}var i=n(4232);const u={class:"calendar-container"},c={class:"fixed-header"},d={class:"header-top"},l={class:"month-title"},p={class:"header-bottom"},h={class:"weekdays"},f={class:"days"},g={key:0,class:"duty-name"},y={class:"nav-buttons-container"},v={key:0,class:"update-notification"};function b(e,t,n,a,s,b){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[(0,o.Lk)("div",d,[(0,o.Lk)("h1",l,(0,i.v_)(b.currentMonthTitle),1),(0,o.Lk)("div",p,[t[5]||(t[5]=(0,o.Lk)("label",{for:"startDay"},"시작 요일:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"startDay","onUpdate:modelValue":t[0]||(t[0]=e=>s.startDayIndex=e)},[...t[4]||(t[4]=[(0,o.Lk)("option",{value:"0"},"일요일",-1),(0,o.Lk)("option",{value:"1"},"월요일",-1)])],512),[[r.u1,s.startDayIndex]])])])]),(0,o.Lk)("div",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.reorderedWeekdays,e=>((0,o.uX)(),(0,o.CE)("span",{key:e,class:(0,i.C4)({sunday:"일"===e,saturday:"토"===e})},(0,i.v_)(e),3))),128))]),(0,o.Lk)("div",f,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.daysInCurrentMonth,e=>((0,o.uX)(),(0,o.CE)("span",{key:e.key,class:(0,i.C4)({day:!0,padded:e.padded,today:e.isToday,"my-duty":b.getDutyName(e.number)&&b.getDutyName(e.number).isMe})},[(0,o.eW)((0,i.v_)(e.padded?"":e.number)+" ",1),b.getDutyName(e.number)?((0,o.uX)(),(0,o.CE)("div",g,(0,i.v_)(b.getDutyName(e.number).name),1)):(0,o.Q3)("",!0)],2))),128))])]),(0,o.Lk)("div",y,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>b.prevMonth&&b.prevMonth(...e)),class:"nav-button prev-button"},"‹"),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>b.nextMonth&&b.nextMonth(...e)),class:"nav-button next-button"},"›")]),s.updateExists?((0,o.uX)(),(0,o.CE)("div",v,[t[6]||(t[6]=(0,o.Lk)("p",null,"새로운 버전이 있습니다. 업데이트하시겠습니까?",-1)),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>b.refreshApp&&b.refreshApp(...e))},"업데이트")])):(0,o.Q3)("",!0)],64)}n(4114),n(8111),n(116);var m=n(4373),D={name:"HelloWorld",data(){return{weekdays:["일","월","화","수","목","금","토"],currentDate:new Date,startDayIndex:parseInt(localStorage.getItem("startDayIndex"))||0,dutyData:[],updateExists:!1,registration:null}},computed:{currentMonthTitle(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth();return`${e}년 ${t+1}월`},reorderedWeekdays(){const e=[...this.weekdays];for(let t=0;t<this.startDayIndex;t++)e.push(e.shift());return e},daysInCurrentMonth(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),n=new Date,r=new Date(e,t,1).getDay(),o=new Date(e,t+1,0).getDate();let a=[];const s=(r-this.startDayIndex+7)%7;for(let i=0;i<s;i++)a.push({key:`pad-${i}`,padded:!0});for(let i=1;i<=o;i++){const r=new Date(e,t,i),o=r.toDateString()===n.toDateString();a.push({key:`day-${i}`,number:i,padded:!1,isToday:o})}return a}},watch:{startDayIndex(e){localStorage.setItem("startDayIndex",e)}},created(){this.fetchDutyData(),document.addEventListener("swUpdated",this.showUpdatePrompt,{once:!0})},methods:{fetchDutyData(){const e=Date.now();m.A.get(`/occ.json?t=${e}`).then(e=>{this.dutyData=e.data}).catch(e=>{console.error("Error fetching duty data:",e)})},getDutyName(e){if(!e)return null;const t=this.currentDate.getFullYear().toString().substring(2),n=(this.currentDate.getMonth()+1).toString().padStart(2,"0"),r=e.toString().padStart(2,"0"),o=parseInt(`${t}${n}${r}`),a=this.dutyData.find(e=>e.date===o&&"당직"===e.category);return a?"Y"===a.meYn?{name:a.name,isMe:!0}:{name:a.name,isMe:!1}:null},prevMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1)},nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,1)},showUpdatePrompt(e){this.registration=e.detail,this.updateExists=!0},refreshApp(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}},k=n(1241);const w=(0,k.A)(D,[["render",b],["__scopeId","data-v-84c4d988"]]);var I=w,M=n(6400),x=n(4703),L={name:"App",components:{HW:I},mounted(){const e={apiKey:"AIzaSyDMjFwCNFE72bctk4BNodId8fLLXMQ_Ulw",authDomain:"hello-notification-121eb.firebaseapp.com",projectId:"hello-notification-121eb",storageBucket:"hello-notification-121eb.firebasestorage.app",messagingSenderId:"17313072285",appId:"1:17313072285:web:ddbd170a5b062f236fc074",measurementId:"G-8W89T2V4CF"},t=(0,M.Wp)(e),n=(0,x.dG)(t);(0,x.xD)(n,e=>{console.log("Message received: ",e)}),(0,x.gf)(n,{vapidKey:"BLYnDWIi8AbuQdrJx1ct6EU5hi6yz6dyG4GxFgLvb_2G42mMjdLwF9i_PkcN8csNR3HynhqVu9ZO92_Am_RcuVg"}).then(e=>{e?console.log("Firebase Token:",e):console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token: ",e)})}};const C=(0,k.A)(L,[["render",s]]);var E=C,F=n(4458);(0,F.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},offline(){console.log("No internet connection found. App is running in offline mode.")},updated(e){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},error(e){console.error("Error during service worker registration:",e)}}),(0,r.Ef)(E).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],a=e[d][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||s>=a)&&Object.keys(n.O).every(function(e){return n.O[e](r[u])})?r.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,s=r[0],i=r[1],u=r[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(u)var d=u(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self["webpackChunkocc"]=self["webpackChunkocc"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],function(){return n(3111)});r=n.O(r)})();
//# sourceMappingURL=app.79b02c67.js.map