(function(){"use strict";var t={9766:function(t,e,n){var r=n(5130),a=n(6768);const o={id:"app"};function s(t,e,n,r,s,i){const u=(0,a.g2)("HW");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(u)])}var i=n(4232);const u={class:"calendar-container"},d={class:"fixed-header"},c={class:"header-top"},l={class:"month-title"},h={class:"header-bottom"},p={class:"weekdays"},f={class:"days"},g={key:0,class:"duty-name"},y={class:"nav-buttons-container"},v={key:0,class:"update-notification"};function D(t,e,n,o,s,D){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[(0,a.Lk)("h1",l,(0,i.v_)(D.currentMonthTitle),1),(0,a.Lk)("div",h,[e[5]||(e[5]=(0,a.Lk)("label",{for:"startDay"},"시작 요일:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"startDay","onUpdate:modelValue":e[0]||(e[0]=t=>s.startDayIndex=t)},[...e[4]||(e[4]=[(0,a.Lk)("option",{value:"0"},"일요일",-1),(0,a.Lk)("option",{value:"1"},"월요일",-1)])],512),[[r.u1,s.startDayIndex]])])])]),(0,a.Lk)("div",p,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.reorderedWeekdays,t=>((0,a.uX)(),(0,a.CE)("span",{key:t,class:(0,i.C4)({sunday:"일"===t,saturday:"토"===t})},(0,i.v_)(t),3))),128))]),(0,a.Lk)("div",f,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.daysInCurrentMonth,t=>((0,a.uX)(),(0,a.CE)("span",{key:t.key,class:(0,i.C4)({day:!0,padded:t.padded,today:t.isToday,"my-duty":D.getDutyName(t.number)&&D.getDutyName(t.number).isMe})},[(0,a.eW)((0,i.v_)(t.padded?"":t.number)+" ",1),D.getDutyName(t.number)?((0,a.uX)(),(0,a.CE)("div",g,(0,i.v_)(D.getDutyName(t.number).name),1)):(0,a.Q3)("",!0)],2))),128))])]),(0,a.Lk)("div",y,[(0,a.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>D.prevMonth&&D.prevMonth(...t)),class:"nav-button prev-button"},"‹"),(0,a.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>D.nextMonth&&D.nextMonth(...t)),class:"nav-button next-button"},"›")]),s.updateExists?((0,a.uX)(),(0,a.CE)("div",v,[e[6]||(e[6]=(0,a.Lk)("p",null,"새로운 버전이 있습니다. 업데이트하시겠습니까?",-1)),(0,a.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>D.refreshApp&&D.refreshApp(...t))},"업데이트")])):(0,a.Q3)("",!0)],64)}n(4114),n(8111),n(116);var m=n(4373),b={name:"HelloWorld",data(){return{weekdays:["일","월","화","수","목","금","토"],currentDate:new Date,startDayIndex:parseInt(localStorage.getItem("startDayIndex"))||0,dutyData:[],updateExists:!1,registration:null}},computed:{currentMonthTitle(){const t=this.currentDate.getFullYear(),e=this.currentDate.getMonth();return`${t}년 ${e+1}월`},reorderedWeekdays(){const t=[...this.weekdays];for(let e=0;e<this.startDayIndex;e++)t.push(t.shift());return t},daysInCurrentMonth(){const t=this.currentDate.getFullYear(),e=this.currentDate.getMonth(),n=new Date,r=new Date(t,e,1).getDay(),a=new Date(t,e+1,0).getDate();let o=[];const s=(r-this.startDayIndex+7)%7;for(let i=0;i<s;i++)o.push({key:`pad-${i}`,padded:!0});for(let i=1;i<=a;i++){const r=new Date(t,e,i),a=r.toDateString()===n.toDateString();o.push({key:`day-${i}`,number:i,padded:!1,isToday:a})}return o}},watch:{startDayIndex(t){localStorage.setItem("startDayIndex",t)}},created(){this.fetchDutyData(),document.addEventListener("swUpdated",this.showUpdatePrompt,{once:!0})},methods:{fetchDutyData(){m.A.get("/occ.json").then(t=>{this.dutyData=t.data}).catch(t=>{console.error("Error fetching duty data:",t)})},getDutyName(t){if(!t)return null;const e=this.currentDate.getFullYear().toString().substring(2),n=(this.currentDate.getMonth()+1).toString().padStart(2,"0"),r=t.toString().padStart(2,"0"),a=parseInt(`${e}${n}${r}`),o=this.dutyData.find(t=>t.date===a&&"당직"===t.category);return o?"Y"===o.meYn?{name:o.name,isMe:!0}:{name:o.name,isMe:!1}:null},prevMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1)},nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,1)},showUpdatePrompt(t){this.registration=t.detail,this.updateExists=!0},refreshApp(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}},k=n(1241);const w=(0,k.A)(b,[["render",D],["__scopeId","data-v-1c113d7b"]]);var x=w,M={name:"App",components:{HW:x}};const I=(0,k.A)(M,[["render",s]]);var C=I,E=n(4458);(0,E.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},offline(){console.log("No internet connection found. App is running in offline mode.")},updated(t){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:t}))},error(t){console.error("Error during service worker registration:",t)}}),(0,r.Ef)(C).mount("#app")}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,o){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],a=t[c][1],o=t[c][2];for(var i=!0,u=0;u<r.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every(function(t){return n.O[t](r[u])})?r.splice(u--,1):(i=!1,o<s&&(s=o));if(i){t.splice(c--,1);var d=a();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,a,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,s=r[0],i=r[1],u=r[2],d=0;if(s.some(function(e){return 0!==t[e]})){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(u)var c=u(n)}for(e&&e(r);d<s.length;d++)o=s[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},r=self["webpackChunkocc"]=self["webpackChunkocc"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],function(){return n(9766)});r=n.O(r)})();
//# sourceMappingURL=app.00877017.js.map